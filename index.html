<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta http-equiv="Content-Security-Policy" content="media-src 'self' https://files.catbox.moe https://commondatastorage.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://fonts.googleapis.com;">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">

    <title>Neon Survivor</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/styles-hub.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        .credits-section {
            margin-top: 40px;
            padding: 20px;
            border: 1px dashed #00f3ff;
            background: rgba(0, 243, 255, 0.05);
            border-radius: 12px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .credits-section::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 243, 255, 0.1), transparent);
            animation: shine 3s infinite;
        }

        .credits-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .credits-name {
            font-family: 'Press Start 2P';
            font-size: 10px;
            color: #fff;
            text-shadow: 0 0 5px #00f3ff, 0 0 10px #00f3ff;
            animation: pulseName 2s infinite alternate;
        }

        .credits-label {
            font-family: 'Roboto';
            font-size: 10px;
            color: #aaa;
            letter-spacing: 4px;
            text-transform: uppercase;
            display: block;
            margin-bottom: 10px;
        }

        @keyframes shine { 0% { left: -100%; } 20% { left: 100%; } 100% { left: 100%; } }
        @keyframes pulseName { 0% { transform: scale(1); opacity: 0.8; } 100% { transform: scale(1.1); opacity: 1; } }
    </style>
</head>
<body>
    <div id="fps-counter">0 FPS</div>

    <div id="damage-overlay"></div>
    <div id="pause-indicator">PAUSADO [ESC]</div>
    <div id="game-container"><canvas id="gameCanvas"></canvas></div>

    <div id="startScreen" class="modal-screen" style="display: flex;">
        <div class="start-content">
            <div class="title-neon">NEON<br>SURVIVOR</div>
            <div class="input-group">
                <input type="text" id="playerName" placeholder="CODENAME" maxlength="10" autocomplete="off">
            </div>
            <button class="btn-start" onclick="startGame()">START</button>
            <p style="margin-top: 30px; color: #888; font-size: 10px; font-family: 'Roboto'; letter-spacing: 1px;">WASD / TOUCH</p>
        </div>
        
        <button class="btn-patch" onclick="openPatchNotes()" title="Patch Notes">üì∞</button>
        <button class="btn-rank" onclick="openLeaderboard()" title="Ranking">üèÜ</button>
    </div>

    <div id="patchModal">
        <div class="patch-outer">
            <div class="patch-container">
                <div class="patch-header">
                    <h2 class="patch-title">NEON HEART</h2>
                    <span class="patch-date">v0.3 // 17.12.2025</span>
                </div>
                
                <div class="patch-section" style="animation-delay: 0.1s;">
                    <h3 class="patch-sec-title">CONTE√öDO NOVO</h3>
                    <ul class="patch-list">
                        <li><span class="tag-new">[NEW]</span> <b>10 NOVOS UPGRADES <span style="color:#95a5a6">COMUNS</span></b>.</li>
                        <li><span class="tag-new">[NEW]</span> <b>10 NOVOS UPGRADES <span style="color:#2ecc71">INCOMUNS</span></b>.</li>
                        <li><span class="tag-new">[NEW]</span> <b>10 NOVOS UPGRADES <span style="color:#9b59b6">√âPICOS</span></b>.</li>
                        <li><span class="tag-new">[NEW]</span> <b>NOVO SISTEMA DE ARMAS (ARSENAL)</b>.</li>
                        <li><span class="tag-new">[NEW]</span> <b>NOVO MENU REPAGINADO (HUB)</b>.</li>
                    </ul>
                </div>

                <div class="patch-section" style="animation-delay: 0.2s;">
                    <h3 class="patch-sec-title" style="color: #f1c40f;">ESTAT√çSTICAS & N√öCLEO</h3>
                    <ul class="patch-list">
                        <li><b>REBALANCEAMENTO GERAL:</b> A curva de poder foi ajustada para acomodar o novo sistema de armas.</li>
                        <li><b>COMUNS:</b> Muni√ß√£o Oca (+10% &rarr; +5%), Gatilho Leve (+10% &rarr; +5%), Kevlar (+15 &rarr; +10 HP), Lanche (30 &rarr; 15 HP).</li>
                        <li><b>INCOMUNS:</b> N√∫cleo Plasma (+20% &rarr; +12%), Nanobots (0.5 &rarr; 0.3 Regen), Cr√≠tico Letal (+50% &rarr; +30%).</li>
                        <li><b>√âPICOS:</b> Vampirismo (15% &rarr; +5% Chance), Titanium Hull (+100 &rarr; +60 HP), Sniper (+60% &rarr; +40% Stats).</li>
                        <li><b>LEND√ÅRIOS:</b> Canh√£o de Vidro (+150% &rarr; +80% Dano), Matrix Inst√°vel (+4 &rarr; +3 Proj√©teis).</li>
                    </ul>
                </div>

                <div class="patch-section credits-section" style="animation-delay: 0.3s;">
                    <span class="credits-label">SPECIAL THANKS // BETA TESTERS</span>
                    <div class="credits-grid">
                        <span class="credits-name">RICK,</span>
                        <span class="credits-name">KAWAIIHERO,</span>
                        <span class="credits-name">STAR,</span>
                        <span class="credits-name">GBOLA,</span>
                        <span class="credits-name">YURI.BR</span>
                    </div>
                </div>

                <button class="patch-close" onclick="closePatchNotes()">CONFIRM PROTOCOL</button>
            </div>
        </div>
    </div>

    <div id="hud">
        <div class="hud-text"><span>SHIELD</span></div>
        <div class="bar-wrap">
            <div id="hpBar"></div>
            <span id="hpText" class="bar-text">100/100</span>
        </div>
        
        <div class="hud-text"><span>DATA - LVL <span id="uiLvl">1</span></span></div>
        <div class="bar-wrap">
            <div id="xpBar"></div>
            <span id="xpText" class="bar-text">0/15</span>
        </div>
        
        <div class="hud-text"><span>FRAGS: <span id="uiKills">0</span></span><span id="uiTime">00:00</span></div>
    </div>

    <div id="upgradeScreen" class="modal-screen">
        <h2 style="color: #f1c40f; margin-bottom: 40px; text-shadow: 0 0 10px gold;">SYSTEM UPGRADE</h2>
        <div class="card-container" id="cardsBox"></div>
    </div>

    <div id="gameOverScreen" class="modal-screen">
        <h1 style="color: #e74c3c; font-size: 40px; margin-bottom: 20px; text-shadow: 0 0 20px #e74c3c;">SYSTEM FAILURE</h1>
        <div class="leaderboard-container" id="lbListGO"></div>
        <button class="btn-start" onclick="rebootGame()">REBOOT</button>
    </div>

    <div id="leaderboardScreen" class="modal-screen">
        <h1 style="color: #f1c40f; font-size: 30px; margin-bottom: 20px; text-shadow: 0 0 10px #f1c40f;">DATABASE</h1>
        <div class="leaderboard-container" id="lbListMain"></div>
        <button class="btn-back" onclick="closeLeaderboard()">BACK</button>
    </div>

    <div id="detailsModal">
        <button class="btn-close" onclick="closeDetails()">X CLOSE</button>
        <div id="detailsHeader" style="width:100%; text-align:center; padding: 20px; background:#111;">
            <h1 id="detailName" style="color: #3498db; font-size: 24px;">PLAYER</h1>
            <p style="font-family: 'Roboto'; color: #888; margin-top: 5px; font-size: 12px;">SYSTEM LOGS</p>
        </div>
        <div id="detailsGrid" style="width:90%; max-width:800px; display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:15px; padding:20px; overflow-y:auto; max-height:70vh;"></div>
    </div>

    <script src="js/data/upgrades.js"></script>
    <script src="js/data/weapons.js"></script>

    <script src="js/entities/player.js"></script>
    <script src="js/entities/particles.js"></script>
    <script src="js/entities/bullets.js"></script>

    <script src="js/core/sfx.js"></script>
    <script src="js/core/ui.js"></script>
    <script src="js/core/mobile.js"></script>

    <script src="js/systems/saveSystem.js"></script>
    <script src="js/systems/hubSfx.js"></script>
    <script src="js/systems/mechanics.js"></script>
    <script src="js/systems/events.js"></script>
    <script src="js/systems/drops.js"></script>

    <script src="js/entities/enemy.js"></script>
    <script src="js/entities/drones.js"></script>

    <script src="js/scenes/hub.js"></script>
    <script src="js/core/game.js"></script>
</body>
</html>